import{d as g,a as S,p as w,r as s,o as A,b as x,c as D,e as v,f as u,t as f,F as B,g as I,h as k,u as b,i as U,j as p,k as L,w as E,n as N,_ as R}from"./index.5ad5ef97.js";const F={class:"container"},K={class:"title"},O={class:"layout"},P=["onClick"],T=g({__name:"DashBoard",setup(V){const C=b(),t=S(w),y=s({"97120610001":{type:"cleanline",left:34,top:134},"97120610002":{type:"cleanline",left:34,top:150},"97120610003":{type:"cleanline",left:420,top:3},"97120210003":{type:"furnace",left:733,top:-49},"97120210006":{type:"furnace",left:733,top:-32},CS21643:{type:"haas",left:961,top:261},CS19237:{type:"nh4000",left:255,top:300},"97120090006":{type:"tornos",left:960,top:49}}),i=s({m97120610001:"gray",m97120610002:"gray",m97120610003:"gray",m97120210003:"gray",m97120210006:"gray",mCS21643:"gray",mCS19237:"gray",m97120090006:"gray"}),d=s({m97120610001:"\u505C\u673A",m97120610002:"\u505C\u673A",m97120610003:"\u505C\u673A",m97120210003:"\u505C\u673A",m97120210006:"\u505C\u673A",mCS21643:"\u505C\u673A",mCS19237:"\u505C\u673A",m97120090006:"\u505C\u673A"}),m=s(),a=s();let r;const _=()=>{k().then(n=>{for(const c of n.data)if(t.statusCode&&t.workplaceName){const l=t.statusCode[c.WORKPLACE_STATUS_ID],e="m"+t.workplaceName[c.WORKPLACE_ID];i.value[e]=l.color,d.value[e]=l.text}m.value=new Date})},h=n=>{C.push({name:"Signal",params:{name:n}})};return A(()=>{_(),t.refresh&&(a.value=t.refresh.status),r=window.setInterval(_,a.value&&a.value>0?a.value*1e3:6e4)}),x(()=>{window.clearInterval(r)}),D(()=>{window.clearInterval(r)}),(n,c)=>{const l=U("el-popover");return p(),v("div",F,[u("div",K," Update InterVal: "+f(a.value)+"s, Last Updated: "+f(m.value),1),u("div",O,[(p(!0),v(B,null,I(y.value,(e,o)=>(p(),L(l,{placement:"top-start",width:"200",key:o,title:e.type,content:o+": "+d.value["m"+o]},{reference:E(()=>[u("div",{class:"signal",style:N("background-color:"+i.value["m"+o]+";left:"+e.left+"px;top:"+e.top+"px"),onClick:W=>h(o)},null,12,P)]),_:2},1032,["title","content"]))),128))])])}}});const z=R(T,[["__scopeId","data-v-d97419cb"]]);export{z as default};
