import{d as v,G as w,p as S,r as s,o as C,b as x,c as M,e as _,f as n,t as b,F as q,g as B,D,E as I,u as F,i as H,j as c,k as z,w as E,H as L,n as U,_ as j}from"./index.5ad5ef97.js";import{f as k}from"./index.5ce2570b.js";const G=o=>(D("data-v-6bff836b"),o=o(),I(),o),N={class:"container"},P=G(()=>n("div",{class:"layout"},null,-1)),R={class:"title"},V=["onClick"],$=v({__name:"DashBoardMqtt",setup(o){const p=F(),l=w(S),i=s({"97120610001":{type:"cleanline",left:628,top:230,width:53,height:57},"97120610002":{type:"cleanline",left:672,top:246,width:96,height:60},"97120610003":{type:"cleanline",left:1120,top:95,width:83,height:73},"97120210003":{type:"furnace",left:1265,top:98,width:64,height:68},"97120210006":{type:"furnace",left:1332,top:117,width:64,height:68},CS21643:{type:"haas",left:1349,top:565,width:67,height:71},CS19237:{type:"nh4000",left:756,top:450,width:85,height:80},"97120090006":{type:"tornos",left:1628,top:325,width:74,height:79}}),f={Stoppage:"pink",Production:"lime"},d=s({m97120610001:"gray",m97120610002:"gray",m97120610003:"gray",m97120210003:"gray",m97120210006:"gray",mCS21643:"gray",mCS19237:"gray",m97120090006:"gray"}),h=s({}),u=s(),g=t=>{console.log(i.value[t].type),i.value[t].type==="cleanline"?p.push({name:"SignalMqttCleanLine",query:{name:t}}):p.push({name:"SignalMqtt",query:{name:t}})};let r;const m=()=>{for(const t in l.state)h.value["m"+t]=l.state[t].status,d.value["m"+t]=f[l.state[t].status]||"gray";u.value=k(new Date,"yyyy-MM-dd HH:mm:ss")};return C(()=>{m(),r=window.setInterval(m,1e3)}),x(()=>{window.clearInterval(r)}),M(()=>{window.clearInterval(r)}),(t,A)=>{const y=H("el-popover");return c(),_("div",N,[P,n("div",R," \u65F6\u95F4: "+b(u.value),1),n("div",null,[(c(!0),_(q,null,B(i.value,(a,e)=>(c(),z(y,{placement:"top-start",width:"200",key:e,title:a.type,content:e+": "+h.value["m"+e]},{reference:E(()=>[n("div",{class:L(["signal",[d.value["m"+e],"m"+e]]),style:U("left:"+a.left+"px;top:"+a.top+"px;width: "+a.width+"px;height: "+a.height+"px;"),onClick:J=>g(e)},null,14,V)]),_:2},1032,["title","content"]))),128))])])}}});const Q=j($,[["__scopeId","data-v-6bff836b"]]);export{Q as default};
