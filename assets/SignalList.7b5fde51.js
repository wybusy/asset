import{_ as A,a as x,b as L,c as F}from"./nh4000.9f278ef8.js";import{d as N,a as R,p as T,r as h,o as V,b as B,c as U,e as l,l as a,w as d,f as w,t as E,m as i,q as m,u as G,s as M,i as v,j as r,v as O,x as y,_ as P}from"./index.5ad5ef97.js";const $={class:"container"},j=y("\u8FD4\u56DE"),q={class:"title"},z={key:0,src:A},W={key:1,src:x},H={key:2,src:L},J={key:3,src:F},K=y(" \u5206\u6790 "),Q=N({__name:"SignalList",setup(X){const e=R(T),c=G(),p=h([]),I=h(),s=h();let f;const S=()=>{c.push({name:"Dashboard"})},t=c.currentRoute.value.params.name,o=e.machineInfo&&e.machineInfo[t]?e.machineInfo[t].type:"unknow";t||c.push({name:"Dashboard"});const k=(_,n)=>{c.push({name:"Trend",params:{name:t,code:_.PROCESS_DATA_ITEM_ID}})},b=()=>{M(t).then(_=>{p.value=[];for(const n of _.data)n.SIGNAL=e.machineInfo&&e.machineInfo[t].signal?e.machineInfo[t].signal[n.PROCESS_DATA_ITEM_ID]:null,n.SIGNAL&&p.value.push(n);I.value=new Date})};return V(()=>{t&&(b(),e.refresh&&(s.value=e.refresh[o]),f=window.setInterval(b,s.value&&s.value>0?s.value*1e3:6e4))}),B(()=>{window.clearInterval(f)}),U(()=>{window.clearInterval(f)}),(_,n)=>{const D=v("el-button"),u=v("el-table-column"),C=v("el-table");return r(),l("div",$,[a(D,{onClick:S,type:"primary"},{default:d(()=>[j]),_:1}),w("div",q," Update InterVal: "+E(s.value)+"s, Last Updated: "+E(I.value),1),w("div",null,[i(o)=="furnace"?(r(),l("img",z)):m("",!0),i(o)=="haas"?(r(),l("img",W)):m("",!0),i(o)=="tornos"?(r(),l("img",H)):m("",!0),i(o)=="nh4000"?(r(),l("img",J)):m("",!0)]),a(C,{data:p.value,style:{width:"100%"},stripe:""},{default:d(()=>[a(u,{prop:"SIGNAL",label:"\u4FE1\u53F7",width:"280"}),a(u,{prop:"RAW_DELIVERED_VALUE",label:"\u503C",width:"100"}),a(u,{prop:"CREATED",label:"\u6570\u636E\u4EA7\u751F\u65F6\u95F4"}),a(u,{label:"\u8D8B\u52BF\u5206\u6790"},{default:d(g=>[a(D,{size:"small",type:"primary",plain:"",icon:i(O),onClick:Y=>k(g.row,g.$index)},{default:d(()=>[K]),_:2},1032,["icon","onClick"])]),_:1})]),_:1},8,["data"])])}}});const te=P(Q,[["__scopeId","data-v-4fdd7af7"]]);export{te as default};
