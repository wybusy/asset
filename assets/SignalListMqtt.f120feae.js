import{_ as D,a as S,b as E,c as N}from"./nh4000.9f278ef8.js";import{d as L,a as V,p as F,G as A,r as f,o as H,b as P,c as R,e as n,f as t,t as l,m as a,q as _,l as r,w as k,u as U,i as q,D as $,E as j,j as c,_ as G}from"./index.5ad5ef97.js";import{f as T}from"./index.5ce2570b.js";const z=i=>($("data-v-ac8c46be"),i=i(),j(),i),J={class:"container"},K=z(()=>t("div",{class:"layout"},null,-1)),O={class:"title"},Q={style:{width:"500px"},class:"leftimgp"},W={key:0,class:"leftimg",src:D},X={key:1,class:"leftimg",src:S},Y={key:2,class:"leftimg",src:E},Z={key:3,class:"leftimg",src:N},tt={class:"deinfo",style:{padding:"14px"}},et={class:"lefttable"},st=["onClick"],at=L({__name:"SignalListMqtt",setup(i){const m=V(F),u=A(F),d=U(),M=u.codes,g=f([]),y=f();let p;const I=()=>{d.push({name:"DashboardMqtt"})},e=d.currentRoute.value.query.name,s=m.machineInfo&&m.machineInfo[e]?m.machineInfo[e].type:"unknow";e||d.push({name:"DashboardMqtt"});const x=(o,B)=>{d.push({name:"TrendMqtt",query:{name:e,signalName:o.signalName,code:M[s][o.signalName]}})},b=f(u.state[e]),w=()=>{b.value=u.state[e];const o=u.signalPackage[e];g.value=o.signalValues,y.value=T(new Date,"yyyy-MM-dd HH:mm:ss")};return H(()=>{e&&(w(),p=window.setInterval(w,1e3))}),P(()=>{window.clearInterval(p)}),R(()=>{window.clearInterval(p)}),(o,B)=>{const h=q("el-table-column"),C=q("el-table");return c(),n("div",J,[K,t("div",{class:"returnbtn",onClick:I,type:"primary"},"\u8FD4\u56DE"),t("div",O," \u65F6\u95F4: "+l(y.value),1),t("div",Q,[a(s)=="furnace"?(c(),n("img",W)):_("",!0),a(s)=="haas"?(c(),n("img",X)):_("",!0),a(s)=="tornos"?(c(),n("img",Y)):_("",!0),a(s)=="nh4000"?(c(),n("img",Z)):_("",!0)]),t("div",tt,[t("div",null,"\u8BBE\u5907\u63CF\u8FF0\uFF1A"+l(a(s)),1),t("div",null,"\u8BBE\u5907\u7F16\u53F7 \uFF1A"+l(a(e)),1),t("div",null,"\u8BBE\u5907\u72B6\u6001\uFF1A"+l(b.value.status),1)]),t("div",et,[r(C,{data:g.value,style:{width:"100%"},stripe:"",class:"myeltable"},{default:k(()=>[r(h,{prop:"signalName",label:"\u4FE1\u53F7",width:"480"}),r(h,{label:"\u503C",width:"200"},{default:k(v=>[t("div",{class:"click",onClick:ot=>x(v.row,v.$index)},l(v.row.value),9,st)]),_:1}),r(h,{prop:"unit",label:"\u5355\u4F4D"})]),_:1},8,["data"])])])}}});const it=G(at,[["__scopeId","data-v-ac8c46be"]]);export{it as default};
