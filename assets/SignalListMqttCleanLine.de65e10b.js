import{_ as D}from"./cleanline.afa31c1b.js";import{d as I,a as x,p as b,G as L,r as h,o as P,b as A,c as $,e as w,f as s,t as i,m as F,l as o,w as c,u as H,i as B,D as R,E as T,j as f,q,_ as U}from"./index.5ad5ef97.js";import{f as j}from"./index.5ce2570b.js";const E=v=>(R("data-v-aa23ded2"),v=v(),T(),v),G={class:"container"},z=E(()=>s("div",{class:"layout"},null,-1)),J={class:"title"},K=E(()=>s("div",{style:{width:"500px"},class:"leftimgp"},[s("img",{src:D})],-1)),O={class:"deinfo",style:{padding:"14px"}},Q={class:"lefttable"},W=["onClick"],X=["onClick"],Y=["onClick"],Z=["onClick"],aa=I({__name:"SignalListMqttCleanLine",setup(v){const m=x(b),d=L(b),r=H(),M=d.codes,n=h([]),k=h(),S=()=>{r.push({name:"DashboardMqtt"})},t=r.currentRoute.value.query.name,C=m.machineInfo&&m.machineInfo[t]?m.machineInfo[t].type:"unknow";t||r.push({name:"DashboardMqtt"});const _=u=>{r.push({name:"TrendMqtt",query:{name:t,signalName:u,code:M[C][u]}})},V=h(d.state[t]);let p;const y=()=>{V.value=d.state[t];const u=d.signalPackage[t],a=d.signalPackage[t+"S7"];for(let e=0;e<13;e++)n.value[e]={name:"Tank"+(e+1),sp:{value:u.signalValues[13+e].value,name:u.signalValues[13+e].signalName},pv:{value:u.signalValues[e].value,name:u.signalValues[e].signalName}};n.value[1].ddv={value:a.signalValues[1].value,name:a.signalValues[1].signalName},n.value[3].ddv={value:a.signalValues[2].value,name:a.signalValues[2].signalName},n.value[10].ddv={value:a.signalValues[0].value,name:a.signalValues[0].signalName},n.value[4].ph={value:a.signalValues[3].value,name:a.signalValues[3].signalName},n.value[5].ph={value:a.signalValues[3].value,name:a.signalValues[3].signalName},n.value[6].ph={value:a.signalValues[3].value,name:a.signalValues[3].signalName},n.value[7].ph={value:a.signalValues[3].value,name:a.signalValues[3].signalName},k.value=j(new Date,"yyyy-MM-dd HH:mm:ss")};return P(()=>{t&&(y(),p=window.setInterval(y,1e3))}),A(()=>{window.clearInterval(p)}),$(()=>{window.clearInterval(p)}),(u,a)=>{const e=B("el-table-column"),N=B("el-table");return f(),w("div",G,[z,s("div",{class:"returnbtn",onClick:S,type:"primary"},"\u8FD4\u56DE"),s("div",J," \u65F6\u95F4: "+i(k.value),1),K,s("div",O,[s("div",null,"\u8BBE\u5907\u63CF\u8FF0\uFF1A"+i(F(C)),1),s("div",null,"\u8BBE\u5907\u7F16\u53F7 \uFF1A"+i(F(t)),1),s("div",null,"\u8BBE\u5907\u72B6\u6001\uFF1A"+i(V.value.status),1)]),s("div",Q,[o(N,{data:n.value,style:{width:"100%"},stripe:"",height:"700px"},{default:c(()=>[o(e,{prop:"name",label:"\u540D\u79F0",width:"100"}),o(e,{label:"\u6E29\u5EA6\u8BBE\u5B9A\u503C(SP)",width:"200"},{default:c(l=>[s("div",{class:"click",onClick:g=>_(l.row.sp.name)},i(l.row.sp.value),9,W)]),_:1}),o(e,{label:"\u6E29\u5EA6\u5B9E\u9645\u503C(PV)",width:"200"},{default:c(l=>[s("div",{class:"click",onClick:g=>_(l.row.pv.name)},i(l.row.pv.value),9,X)]),_:1}),o(e,{label:"\u7535\u5BFC\u7387",width:"200"},{default:c(l=>[l.row.ddv?(f(),w("div",{key:0,class:"click",onClick:g=>_(l.row.ddv.name)},i(l.row.ddv.value),9,Y)):q("",!0)]),_:1}),o(e,{label:"PH\u503C"},{default:c(l=>[l.row.ph?(f(),w("div",{key:0,class:"click",onClick:g=>_(l.row.ph.name)},i(l.row.ph.value),9,Z)):q("",!0)]),_:1})]),_:1},8,["data"])])])}}});const ta=U(aa,[["__scopeId","data-v-aa23ded2"]]);export{ta as default};
